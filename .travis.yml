language: node_js

sudo: required

dist: trusty

node_js:
  - "8"
  - "10"

addons:
  postgresql: "9.6"

script:
- npm test
- npm run doc

env:
- NODE_ENV=travis

deploy:
  provider: pages
  local-dir: docs
  github-token: $GITHUB_TOKEN
  skip-cleanup: true
  keep-history: true
  on:
    branch: master
